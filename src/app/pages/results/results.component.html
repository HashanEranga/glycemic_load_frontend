<div class="container mt-4">
  
  <!-- Search Input -->
  <div class="input-group mb-3">
    <input 
      type="text" 
      class="form-control form-control-lg" 
      placeholder="Search food by name..." 
      [(ngModel)]="searchTerm"
    />
    <button class="btn btn-success" (click)="applySearch()">
      <i class="bi bi-search"></i> Search
    </button>
  </div>

  <!-- Responsive Table -->
  <div class="table-responsive" style="max-height: 800px; overflow-y: auto;">
    <table class="table table-bordered table-hover">
      <thead class="table-success text-center" style="position: sticky; top: 0; z-index: 1;">
        <tr>
          <th scope="col">Food Name</th>
          <th scope="col">Portion Size</th>
          <th scope="col">Glycemic Load</th>
          <th scope="col">Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let food of paginatedFoodData" class="align-middle">
          <td>{{ food.foodName }}</td>
          <td>{{ food.portionSize }}</td>
          <td>{{ food.glycemicLoad }}</td>
          <td class="text-center">
            <button class="btn btn-outline-success btn-sm shadow-sm" (click)="showDetails(food)">
              <i class="bi bi-info-circle"></i> Show Details
            </button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- Pagination -->
  <nav>
    <ul class="pagination justify-content-center mt-3">
      <li class="page-item" [class.disabled]="currentPage === 1">
        <button class="page-link btn btn-success mx-1" (click)="changePage(currentPage - 1)">
          <i class="bi bi-chevron-left"></i> Prev
        </button>
      </li>

      <li class="page-item" *ngFor="let page of [].constructor(totalPages); let i = index" 
          [class.active]="currentPage === i + 1">
        <button class="page-link btn btn-success mx-1" (click)="changePage(i + 1)">{{ i + 1 }}</button>
      </li>

      <li class="page-item" [class.disabled]="currentPage === totalPages">
        <button class="page-link btn btn-success mx-1" (click)="changePage(currentPage + 1)">
          Next <i class="bi bi-chevron-right"></i>
        </button>
      </li>
    </ul>
  </nav>

  <!-- Food Details Alert -->
  <div *ngIf="selectedFood" class="alert mt-3 shadow-sm p-3" [ngClass]="getAlertClass()">
    <h5 class="mb-2"><i class="bi bi-bar-chart-line"></i> {{ selectedFood.foodName }} - Nutritional Information</h5>
    <ul class="mb-0 ps-3">
      <li><strong>Carbohydrates:</strong> {{ selectedFood.nutrients.carbs }}</li>
      <li><strong>Protein:</strong> {{ selectedFood.nutrients.protein }}</li>
      <li><strong>Total Fat:</strong> {{ selectedFood.nutrients.fats }}</li>
      <li><strong>Dietary Fiber:</strong> {{ selectedFood.nutrients.fiber }}</li>
    </ul>
  </div>

</div>
